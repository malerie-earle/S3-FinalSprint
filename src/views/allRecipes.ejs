<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All Recipes</title>
  <link rel="stylesheet" href="/styles/index.css">
</head>

<%- include('./partials/header.ejs') %>

<body>
  <div class="allRecipes">
    <h1>All Recipes</h1>
    <div class="recipeGrid">
      <% if (theRecipes && theRecipes.length > 0) { %>
        <% theRecipes.forEach(function(recipe) { %>
          <div class="recipeDiv">
            <h2><%= recipe.title %></h2>
            <h3>Ingredients:</h3>
            <ul>
              <% recipe.ingredients.forEach(function(ingredient, index) { %>
                <li><%= `${ingredient}` %></li>
              <% }); %>
            </ul>
            <h3>Directions:</h3>
            <ol>
              <% recipe.directions.forEach(function(direction, index) { %>
                <li><%= `${direction}` %></li>
              <% }); %>
            </ol>
            <p><strong>Link:</strong> <a href="<%= recipe.link %>"><%= recipe.link %></a></p>
          </div>
        <% }); %>
    </div>
    <!-- Pagination controls -->
    <div class="pagination">
      <% if (page > 1) { %>
        <a href="/all/?page=<%= page - 1 %>&pageSize=<%= pageSize %>">Previous</a>
      <% } %>
      <span>Page <%= page %> of <%= Math.ceil(301000 / pageSize) %></span>
      <% if ((page * pageSize) < 301000) { %>
        <a href="/all/?page=<%= page + 1 %>&pageSize=<%= pageSize %>">Next</a>
      <% } %>
    </div>
    <% } else { %>
      <p>No recipes found.</p>
    <% } %>
  </div>
</body>
</html>